{"ast":null,"code":"var _jsxFileName = \"/home/soumya/mstorage/contextapi/React-Ecommrace/src/components/Cart.jsx\";\nimport React, { useContext } from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\nimport { cartContext } from \"../Global/cartContext\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Recommendation from \"./Recommendation\";\ntoast.configure();\n\nconst Cart = props => {\n  const {\n    dispatch,\n    shoppingCart,\n    totalPrice,\n    qty\n  } = useContext(cartContext);\n  console.log(\"total qty: \", qty);\n\n  const handleToken = async token => {\n    const product = {\n      name: 'All Products',\n      price: totalPrice\n    };\n    const response = await axios.post('https://w7gqb.sse.codesandbox.io/checkout', {\n      token,\n      product\n    });\n    const {\n      status\n    } = response.data;\n\n    if (status === 'success') {\n      dispatch({\n        type: 'EMPTY'\n      });\n      props.history.push(`/`);\n      toast.success(\"You have paid successfully now you can continue your shopping!\", {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    } else {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cartContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cartDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 8\n    }\n  }, shoppingCart.length ? shoppingCart.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart\",\n    key: product.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cartProImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"imageCount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }\n  }, product.qty)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cartProductName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cartProductPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"$\", product.price, \".00\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"inc\",\n    onClick: () => dispatch({\n      type: 'INC',\n      id: product.id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 86\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"productQuantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, product.qty), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dec\",\n    onClick: () => dispatch({\n      type: 'DEC',\n      id: product.id\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-minus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 87\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"productTotalPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"$\", product.qty * product.price, \".00\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => dispatch({\n      type: 'DELETE_PRODUCT',\n      id: product.id\n    }),\n    className: \"deleteCartPro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 110\n    }\n  })))) : 'Yourr Cart is currently empty!'), shoppingCart.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cartSummary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Order Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"totalItems\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Total Items\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"itemsCount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 16\n    }\n  }, qty, \".00\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"totalPriceSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 18\n    }\n  }, \"Total Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"itemsPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"$\", totalPrice, \".00\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stripSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(StripeCheckout, {\n    stripeKey: \"pk_test_HnF0cQhq9UGw2GvWRltNiAQM00kn9HlRCg\",\n    token: handleToken,\n    billingAddress: true,\n    shippingAddress: true,\n    amount: totalPrice * 100,\n    name: \"all products in the cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }\n  })))) : '', shoppingCart.length ? /*#__PURE__*/React.createElement(Recommendation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 30\n    }\n  }) : '');\n};\n\nexport default Cart;","map":{"version":3,"sources":["/home/soumya/mstorage/contextapi/React-Ecommrace/src/components/Cart.jsx"],"names":["React","useContext","StripeCheckout","axios","cartContext","ToastContainer","toast","Recommendation","configure","Cart","props","dispatch","shoppingCart","totalPrice","qty","console","log","handleToken","token","product","name","price","response","post","status","data","type","history","push","success","position","POSITION","TOP_RIGHT","length","map","id","image"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\"\nimport StripeCheckout from \"react-stripe-checkout\"\nimport axios from \"axios\"\nimport {cartContext} from \"../Global/cartContext\"\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Recommendation from \"./Recommendation\";\ntoast.configure();\nconst Cart = (props) => {\n   \n    const {dispatch, shoppingCart, totalPrice, qty} = useContext(cartContext);\n         console.log(\"total qty: \",qty);\n\n    const handleToken = async (token) => {\n\n        const product = {name: 'All Products', price: totalPrice}\n          const response = await axios.post('https://w7gqb.sse.codesandbox.io/checkout', {\n              token,\n              product\n          });\n          const {status} = response.data;\n          if(status === 'success'){\n             \n              dispatch({type: 'EMPTY'});\n              props.history.push(`/`)\n              toast.success(\"You have paid successfully now you can continue your shopping!\", {\n                position: toast.POSITION.TOP_RIGHT\n              });\n\n          } else {\n           \n          }\n\n    }\n   \n    return(\n       <div className=\"cartContainer\">\n       <div className=\"cartDetails\">\n           {shoppingCart.length ? shoppingCart.map(product => (\n       <div className=\"cart\" key={product.id}>\n        <span className=\"cartProImage\"><img src={product.image} alt=\"\"/>\n           <span className=\"imageCount\">{product.qty}</span>\n        </span>\n        <span className=\"cartProductName\">{product.name}</span>\n        <span className=\"cartProductPrice\">${product.price}.00</span>\n        <span className=\"inc\" onClick={() => dispatch({type: 'INC', id:product.id})}><i className=\"fas fa-plus\"></i></span>\n        <span className=\"productQuantity\">{product.qty}</span>\n        <span className=\"dec\" onClick={() => dispatch({type: 'DEC', id: product.id})}><i className=\"fas fa-minus\"></i></span>\n        <span className=\"productTotalPrice\">${product.qty * product.price}.00</span>\n        <button onClick={() => dispatch({type: 'DELETE_PRODUCT', id: product.id})} className=\"deleteCartPro\"><i className=\"fas fa-trash-alt\"></i></button>\n           </div>  \n        )) : 'Yourr Cart is currently empty!'}\n        \n        </div>\n        {shoppingCart.length ? <div className=\"cartSummary\">\n            <div className=\"summary\">\n                <h3>Order Summary</h3>\n                <div className=\"totalItems\">\n                    <div className=\"items\">Total Items</div>\n               <div className=\"itemsCount\">{qty}.00</div>\n                </div>\n                <div className=\"totalPriceSection\">\n                 <div className=\"justTitle\">Total Price</div>\n        <div className=\"itemsPrice\">${totalPrice}.00</div>\n                </div>\n       <div className=\"stripSection\">\n       <StripeCheckout\n       stripeKey=\"pk_test_HnF0cQhq9UGw2GvWRltNiAQM00kn9HlRCg\"\n       token={handleToken}\n       billingAddress\n       shippingAddress\n       amount = {totalPrice * 100}\n       name=\"all products in the cart\"\n       />\n       </div>\n       </div></div>\n        : ''}\n      {shoppingCart.length ? <Recommendation /> :''}\n       \n       \n</div>\n    )\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}