{"ast":null,"code":"import _regeneratorRuntime from\"/home/soumya/mstorage/contextapi/React-Ecommrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/soumya/mstorage/contextapi/React-Ecommrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from\"react\";import StripeCheckout from\"react-stripe-checkout\";import axios from\"axios\";import{cartContext}from\"../Global/cartContext\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Recommendation from\"./Recommendation\";toast.configure();var Cart=function Cart(props){var _useContext=useContext(cartContext),dispatch=_useContext.dispatch,shoppingCart=_useContext.shoppingCart,totalPrice=_useContext.totalPrice,qty=_useContext.qty;console.log(\"total qty: \",qty);var handleToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var product,response,status;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:product={name:'All Products',price:totalPrice};_context.next=3;return axios.post('https://w7gqb.sse.codesandbox.io/checkout',{token:token,product:product});case 3:response=_context.sent;status=response.data.status;if(status==='success'){dispatch({type:'EMPTY'});props.history.push(\"/\");toast.success(\"You have paid successfully now you can continue your shopping!\",{position:toast.POSITION.TOP_RIGHT});}else{}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleToken(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cartDetails\"},shoppingCart.length?shoppingCart.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{className:\"cart\",key:product.id},/*#__PURE__*/React.createElement(\"span\",{className:\"cartProImage\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"imageCount\"},product.qty)),/*#__PURE__*/React.createElement(\"span\",{className:\"cartProductName\"},product.name),/*#__PURE__*/React.createElement(\"span\",{className:\"cartProductPrice\"},\"$\",product.price,\".00\"),/*#__PURE__*/React.createElement(\"span\",{className:\"inc\",onClick:function onClick(){return dispatch({type:'INC',id:product.id});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"productQuantity\"},product.qty),/*#__PURE__*/React.createElement(\"span\",{className:\"dec\",onClick:function onClick(){return dispatch({type:'DEC',id:product.id});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-minus\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"productTotalPrice\"},\"$\",product.qty*product.price,\".00\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return dispatch({type:'DELETE_PRODUCT',id:product.id});},className:\"deleteCartPro\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash-alt\"})));}):'Yourr Cart is currently empty!'),shoppingCart.length?/*#__PURE__*/React.createElement(\"div\",{className:\"cartSummary\"},/*#__PURE__*/React.createElement(\"div\",{className:\"summary\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Order Summary\"),/*#__PURE__*/React.createElement(\"div\",{className:\"totalItems\"},/*#__PURE__*/React.createElement(\"div\",{className:\"items\"},\"Total Items\"),/*#__PURE__*/React.createElement(\"div\",{className:\"itemsCount\"},qty,\".00\")),/*#__PURE__*/React.createElement(\"div\",{className:\"totalPriceSection\"},/*#__PURE__*/React.createElement(\"div\",{className:\"justTitle\"},\"Total Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"itemsPrice\"},\"$\",totalPrice,\".00\")),/*#__PURE__*/React.createElement(\"div\",{className:\"stripSection\"},/*#__PURE__*/React.createElement(StripeCheckout,{stripeKey:\"pk_test_HnF0cQhq9UGw2GvWRltNiAQM00kn9HlRCg\",token:handleToken,billingAddress:true,shippingAddress:true,amount:totalPrice*100,name:\"all products in the cart\"})))):'',shoppingCart.length?/*#__PURE__*/React.createElement(Recommendation,null):'');};export default Cart;","map":{"version":3,"sources":["/home/soumya/mstorage/contextapi/React-Ecommrace/src/components/Cart.jsx"],"names":["React","useContext","StripeCheckout","axios","cartContext","ToastContainer","toast","Recommendation","configure","Cart","props","dispatch","shoppingCart","totalPrice","qty","console","log","handleToken","token","product","name","price","post","response","status","data","type","history","push","success","position","POSITION","TOP_RIGHT","length","map","id","image"],"mappings":"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","sourcesContent":["import React, {useContext} from \"react\"\nimport StripeCheckout from \"react-stripe-checkout\"\nimport axios from \"axios\"\nimport {cartContext} from \"../Global/cartContext\"\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Recommendation from \"./Recommendation\";\ntoast.configure();\nconst Cart = (props) => {\n   \n    const {dispatch, shoppingCart, totalPrice, qty} = useContext(cartContext);\n         console.log(\"total qty: \",qty);\n\n    const handleToken = async (token) => {\n\n        const product = {name: 'All Products', price: totalPrice}\n          const response = await axios.post('https://w7gqb.sse.codesandbox.io/checkout', {\n              token,\n              product\n          });\n          const {status} = response.data;\n          if(status === 'success'){\n             \n              dispatch({type: 'EMPTY'});\n              props.history.push(`/`)\n              toast.success(\"You have paid successfully now you can continue your shopping!\", {\n                position: toast.POSITION.TOP_RIGHT\n              });\n\n          } else {\n           \n          }\n\n    }\n   \n    return(\n       <div className=\"cartContainer\">\n       <div className=\"cartDetails\">\n           {shoppingCart.length ? shoppingCart.map(product => (\n       <div className=\"cart\" key={product.id}>\n        <span className=\"cartProImage\"><img src={product.image} alt=\"\"/>\n           <span className=\"imageCount\">{product.qty}</span>\n        </span>\n        <span className=\"cartProductName\">{product.name}</span>\n        <span className=\"cartProductPrice\">${product.price}.00</span>\n        <span className=\"inc\" onClick={() => dispatch({type: 'INC', id:product.id})}><i className=\"fas fa-plus\"></i></span>\n        <span className=\"productQuantity\">{product.qty}</span>\n        <span className=\"dec\" onClick={() => dispatch({type: 'DEC', id: product.id})}><i className=\"fas fa-minus\"></i></span>\n        <span className=\"productTotalPrice\">${product.qty * product.price}.00</span>\n        <button onClick={() => dispatch({type: 'DELETE_PRODUCT', id: product.id})} className=\"deleteCartPro\"><i className=\"fas fa-trash-alt\"></i></button>\n           </div>  \n        )) : 'Yourr Cart is currently empty!'}\n        \n        </div>\n        {shoppingCart.length ? <div className=\"cartSummary\">\n            <div className=\"summary\">\n                <h3>Order Summary</h3>\n                <div className=\"totalItems\">\n                    <div className=\"items\">Total Items</div>\n               <div className=\"itemsCount\">{qty}.00</div>\n                </div>\n                <div className=\"totalPriceSection\">\n                 <div className=\"justTitle\">Total Price</div>\n        <div className=\"itemsPrice\">${totalPrice}.00</div>\n                </div>\n       <div className=\"stripSection\">\n       <StripeCheckout\n       stripeKey=\"pk_test_HnF0cQhq9UGw2GvWRltNiAQM00kn9HlRCg\"\n       token={handleToken}\n       billingAddress\n       shippingAddress\n       amount = {totalPrice * 100}\n       name=\"all products in the cart\"\n       />\n       </div>\n       </div></div>\n        : ''}\n      {shoppingCart.length ? <Recommendation /> :''}\n       \n       \n</div>\n    )\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}