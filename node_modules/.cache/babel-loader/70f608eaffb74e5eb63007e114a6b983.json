{"ast":null,"code":"import _toConsumableArray from\"/home/soumya/mstorage/contextapi/React-Ecommrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";export var CartReducer=function CartReducer(state,action){var shoppingCart=state.shoppingCart,totalPrice=state.totalPrice,qty=state.qty;var product;var index;var updatedPrice;var updatedQty;switch(action.type){case'ADD_TO_CART':var check=shoppingCart.find(function(cart){return cart.id===action.id;});if(check){// return state;\nreturn{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:totalPrice,message:'This is product is already in the cart!',qty:qty};}else{if(action.rccategory==true){product=action.recommendation_product.find(function(product){return product.id===action.id;});}else{product=action.products.find(function(product){return product.id===action.id;});}product['qty']=1;updatedQty=qty+1;return{shoppingCart:[product].concat(_toConsumableArray(shoppingCart)),totalPrice:totalPrice+product.price,message:'',qty:updatedQty};}break;case'DELETE_PRODUCT':var filtered=shoppingCart.filter(function(cart){return cart.id!==action.id;});product=shoppingCart.find(function(cart){return cart.id===action.id;});// setAllPrice(allPrice - product.price * product.qty);\nupdatedPrice=totalPrice-product.price*product.qty;updatedQty=qty-product.qty;return{shoppingCart:_toConsumableArray(filtered),totalPrice:updatedPrice,message:'',qty:updatedQty};break;case'INC':console.log('Inc run');product=shoppingCart.find(function(product){return product.id===action.id;});index=shoppingCart.findIndex(function(product){return product.id===action.id;});product.qty=product.qty+1;updatedQty=qty+1;totalPrice=totalPrice+product.price;console.log(product,totalPrice);shoppingCart[index]=product;return{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:totalPrice,message:'',qty:updatedQty};break;case'DEC':product=shoppingCart.find(function(product){return product.id===action.id;});index=shoppingCart.findIndex(function(product){return product.id===action.id;});if(product.qty>1){console.log('Yes graer');product.qty=product.qty-1;updatedPrice=totalPrice-product.price;updatedQty=qty-1;shoppingCart[index]=product;console.log(\"afer dec\",shoppingCart);return{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:updatedPrice,message:'',qty:updatedQty};}else{return{shoppingCart:_toConsumableArray(shoppingCart),totalPrice:totalPrice,message:'',qty:qty};}break;case'EMPTY':return{shoppingCart:[],totalPrice:0,message:'',qty:0};break;default:return state;}};","map":{"version":3,"sources":["/home/soumya/mstorage/contextapi/React-Ecommrace/src/Global/cartReducer.js"],"names":["CartReducer","state","action","shoppingCart","totalPrice","qty","product","index","updatedPrice","updatedQty","type","check","find","cart","id","message","rccategory","recommendation_product","products","price","filtered","filter","console","log","findIndex"],"mappings":"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","sourcesContent":["export const CartReducer = (state, action) => {\n    let {shoppingCart, totalPrice, qty} = state;\n    let product;\n    let index;\n    let updatedPrice;\n    let updatedQty;\n    switch(action.type){\n        case 'ADD_TO_CART': \n        const check = shoppingCart.find(cart => cart.id === action.id);\n        if(check){\n            // return state;\n            return {shoppingCart: [...shoppingCart], totalPrice, message: 'This is product is already in the cart!', qty};\n        } else {\n            if(action.rccategory == true){\n                product = action.recommendation_product.find(product => product.id === action.id);\n            }else{\n                product = action.products.find(product => product.id === action.id);\n            }\n            \n            product['qty'] = 1;\n            updatedQty = qty + 1;\n            return {shoppingCart: [product,...shoppingCart], totalPrice: totalPrice+product.price, message: '', qty: updatedQty};\n        }\n        break;\n        case 'DELETE_PRODUCT':\n            const filtered = shoppingCart.filter(cart => cart.id !== action.id);\n            product = shoppingCart.find(cart => cart.id === action.id);\n            // setAllPrice(allPrice - product.price * product.qty);\n            updatedPrice = totalPrice - product.price * product.qty;\n            updatedQty = qty - product.qty;\n            return {shoppingCart: [...filtered], totalPrice: updatedPrice, message: '', qty: updatedQty}\n            break;\n        \n        case 'INC':\n            console.log('Inc run');\n            product = shoppingCart.find(product => product.id === action.id);\n            index = shoppingCart.findIndex(product => product.id === action.id);\n            product.qty = product.qty + 1;\n            updatedQty = qty + 1;\n            totalPrice = totalPrice + product.price;\n            console.log(product, totalPrice);\n            shoppingCart[index] = product;\n            return {shoppingCart: [...shoppingCart], totalPrice: totalPrice, message: '', qty: updatedQty}\n            break;\n\n        case 'DEC': \n        product = shoppingCart.find(product => product.id === action.id);\n        index = shoppingCart.findIndex(product => product.id === action.id);\n       if(product.qty > 1){\n           console.log('Yes graer');\n       product.qty = product.qty - 1;\n       updatedPrice = totalPrice - product.price;\n       updatedQty = qty - 1;\n       shoppingCart[index] = product;\n       console.log(\"afer dec\",shoppingCart);\n       return {shoppingCart: [...shoppingCart], totalPrice: updatedPrice, message: '', qty: updatedQty};\n       } else {\n           return {shoppingCart: [...shoppingCart], totalPrice: totalPrice, message: '', qty: qty}\n       }\n       break;\n\n       case 'EMPTY':\n        return {shoppingCart: [], totalPrice: 0, message: '', qty: 0}\n        break;\n    default: \n    return state;\n\n    }\n    \n\n}"]},"metadata":{},"sourceType":"module"}